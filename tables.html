<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tables Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
    <section class="container">
    <div class="jumbotron" style="text-align: center;">
        <i class="fa fa-fire" aria-hidden="true"></i><h1 class="display-4">Hot Restaurant!</h1>
        <hr class="my-4">
        <h3>Current Reservations and Waiting List</h3>
        <br>
        <a href="/reserve">
        <button type="button" class="btn btn-lg btn-danger" id="reservationsButton">
            Make Reservation
        </button>
        </a>
        <a href="/">
        <button type="button" class="btn btn-lg btn-outline-secondary" id="homeButton">
            Home
        </button>
        </a>
      </div>
      <div class="card">
          <div class="card-header">Current Reservations</div>
          <div class="card-body" id="reservationsList">
            <h3>0</h3>
          </div>
      </div>
      <br>
      <br>
      <div class="card">
        <div class="card-header">Waiting List</div>
        <div class="card-body" id="waitingList">
        <div>
            
        </div>
    </div>
    </section>
    <br>
    <footer class="footer">
        <div class="container">
            <p>Control Panel</p>
          <p><a href="#" id="clear">Clear Table</a> | <a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API Wait List</a></p>
        </div>
      </footer>
</body>
<script>
    const reservationsList = $("#reservationsList")
    const waitingList = $("#waitingList")
    const name = $("name")
    const email = $("email")
    const phone = $("phone")

    fetch('/api/waitlist', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
          },
        }).then((response) => response.json())
          .then((data) => {
          const totalWaitlist = '' 
          data.forEach(guest => {
              currentCust = `
              <div>
            <h3>
                <strong>Name:</strong>${guest.customerName}
            </h3>
            <h3>
                <strong>Email:</strong> ${guest.customerEmail}
            </h3>
            <h3>
                <strong>Phone #:</strong> ${phoneNumber}
            </h3>
        </div>
              `
              totalWaitlist += currentCust
              reservationsList += 1
          }) 
          waitingList += totalWaitlist
          

          })

</script>
</html>